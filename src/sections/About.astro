---
import Section from "@/layouts/Section.astro"
import SectionTitle from "@/components/SectionTitle.astro"
import SocialButton from "@/components/SocialButton.astro"
import { getCurrentAge } from '@/utils'

import UserIcon from "@/icons/User.astro"
import DownloadFileIcon from "@/icons/DownloadFile.astro"

const age = getCurrentAge()
---

<Section id="sobre-mi" class="about">
    <SectionTitle>
        <UserIcon size="34" />
        Sobre mí
    </SectionTitle>
    
    <div class="container">
        <div class="about-info">
            <p>
                Me llamo Carlos Capó, aunque mis amigos me apodan como Picu, tengo {age} años y soy de Menorca. <strong>Estoy cursando mis estudios de Grado Superior en Barcelona</strong>.
            </p>
        
            <p>
                Entre mis éxitos destaco que, durante el Grado Superior como el Medio, ayudé a mis compañeros a entender muchos conceptos y a resolver sus dudas. Me considero buen aprendiz y buen maestro, <strong>me gusta compartir mis conocimientos con los demás</strong>.
            </p>
        
            <p>
                Tengo bastante experiencia con la programación, ya que <strong>llevo aprendiendo de forma autodidacta desde hace 5 años</strong>.
            </p>
        </div>
    
        <img loading="lazy" src="/images/profile.webp" alt="Retrato de Carlos Capó" width="225" height="225" />
    </div>

    <SocialButton href="/CV-CarlosCapo.pdf">
        <DownloadFileIcon size="24" />
        Descargar CV
    </SocialButton>

    <div class="background"></div>
</Section>

<style>
    :global(section.about) {
        position: relative;
    }

    .container {
        display: flex;
        align-items: center;
        gap: 4.5rem;
        margin-bottom: 1rem;
    }

    .about-info {
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    p {
        font-size: calc(var(--fs-300) - .15rem);
    }

    strong {
        font-weight: 400;
        color: var(--clr-lightblue-accent);
    }

    img {
        width: 225px;
        height: 225px;
        aspect-ratio: 1 / 1;
        border-radius: 100vw;
    }

    @media (width < 640px) {
        .container {
            flex-direction: column-reverse;
            gap: 2.5rem;
            padding-top: 1rem;
        }
    }

    .background {
        position: absolute;
        top: 0;
        width: 100%;
        height: 100%;
        background-image: radial-gradient(rgb(255 255 255 / .1) 1px,transparent 0);
        mask-image: radial-gradient(ellipse 50% 50% at 50% 50%,#000 70%,transparent 100%);
        background-size: 16px 16px;
        z-index: -999;
        transform: scale(1.3);
    }

    @media (width < 700px) {
        .background {
            opacity: .85;
        }
    }
</style>